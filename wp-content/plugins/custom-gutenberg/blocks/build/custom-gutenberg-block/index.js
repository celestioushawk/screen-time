!function(){"use strict";var e,t={903:function(){var e=window.wp.element,t=window.wp.blocks,r=window.wp.plugins,o=window.wp.data,n=window.wp.components,a=window.wp.i18n,l=window.wp.editPost,s=window.wp.blockEditor,c=JSON.parse('{"u2":"create-block/custom-gutenberg"}');(0,t.registerBlockType)(c.u2,{edit:t=>{const{attributes:{postSearch:r,postDate:l,postExcerpt:c,postImage:i,imageUrl:u,postTitle:m,postID:p,postShowExcerpt:g,postShowDate:d,postContentOrientation:h},setAttributes:E}=t,{posts:b}=(0,o.useSelect)((e=>({posts:e("core").getEntityRecords("postType","post",{search:r,_embed:!0})})),[r]),v=(0,o.useSelect)((e=>e("core").getMedia(i)),[i]),f=(0,s.useBlockProps)({className:"reverse-content"});return(0,e.createElement)("div",f,(0,e.createElement)(s.InspectorControls,{key:"setting"},(0,e.createElement)(n.PanelBody,null,(0,e.createElement)("div",{className:"wp-block-create-block-custom-gutenberg"},(0,e.createElement)("fieldset",null,(0,e.createElement)(n.SearchControl,{label:(0,a.__)("Post Search","custom-gutenberg"),value:r,onChange:e=>{E({postSearch:e});for(let t=0;t<b?.length;t++)if(b[t].title.rendered===e){E({postID:b[t].id,postSearch:e,postTitle:b[t].title.rendered,postDate:new Date(b[t].date).toLocaleDateString(),postExcerpt:b[t].excerpt.raw,postImage:b[t].featured_media}),E({imageUrl:b[t]._embedded["wp:featuredmedia"][0].source_url});break}},list:"post-data-list"}),(0,e.createElement)("datalist",{id:"post-data-list"},b?.map((e=>({label:e.title.rendered,value:e.title.rendered})))?.map((t=>(0,e.createElement)("option",{key:Date.now().toString(36)+Math.random().toString(36).substring(2),value:t?.value},t?.label))))),(0,e.createElement)("fieldset",null,(0,e.createElement)(n.ToggleControl,{label:(0,a.__)("Show Excerpt","custom-gutenberg"),checked:g,onChange:e=>(e=>{E({postShowExcerpt:e})})(e)})),(0,e.createElement)("fieldset",null,(0,e.createElement)(n.ToggleControl,{label:(0,a.__)("Show Publish Date","custom-gutenberg"),checked:d,onChange:e=>(e=>{E({postShowDate:e})})(e)})),(0,e.createElement)("fieldset",null,(0,e.createElement)(n.SelectControl,{label:(0,a.__)("Display image and content","custom-gutenberg"),value:h,options:[{label:(0,a.__)("Left to Right","custom-gutenberg"),value:"leftright"},{label:(0,a.__)("Right to Left","custom-gutenberg"),value:"rightleft"}],onChange:e=>(e=>{E({postContentOrientation:e})})(e)}))))),p?(0,e.createElement)("div",{className:"leftright"===h?"post-container":"post-container reverse-content"},(0,e.createElement)("div",{className:"post-thumbnail"},u&&(0,e.createElement)("img",{src:u,alt:"Featured Thumbnail"}),(0,e.createElement)(s.MediaUpload,{type:"image",onSelect:e=>{E({postImage:e.id}),E({imageUrl:e.url})},value:v,render:t=>{let{open:r}=t;return(0,e.createElement)(n.Button,{className:i,onClick:r},(0,a.__)("Upload Image","custom-gutenberg"))}})),(0,e.createElement)("div",{className:"post-details"},(0,e.createElement)("div",{className:"post-title"},(0,e.createElement)(s.RichText,{value:m,onChange:e=>{E({postTitle:e})},placeholder:(0,a.__)("Enter title here","custom-gutenberg"),tagName:"h3"})),(0,e.createElement)("div",{className:"post-date"},d&&(0,e.createElement)(s.RichText,{value:l,onChange:e=>{E({postDate:e})},placeholder:(0,a.__)("Enter date here","custom-gutenberg"),tagName:"h5"})),(0,e.createElement)("div",{className:"post-excerpt"},g&&(0,e.createElement)(s.RichText,{value:c,onChange:e=>{E({postExcerpt:e})},placeholder:(0,a.__)("Enter excerpt here","custom-gutenberg")})))):(0,e.createElement)("p",null,(0,a.__)("No Posts to Show","custom-gutenberg")))},save:t=>{const{attributes:{postDate:r,postExcerpt:o,imageUrl:n,postTitle:l,postShowExcerpt:c,postShowDate:i,postContentOrientation:u}}=t,m=s.useBlockProps.save();return(0,e.createElement)("div",m,(0,e.createElement)("div",{className:"leftright"===u?"post-container":"post-container reverse-content"},(0,e.createElement)("div",{className:"post-thumbnail"},n&&(0,e.createElement)("img",{src:n,alt:"Featured Thumbnail"})),(0,e.createElement)("div",{className:"post-details"},(0,e.createElement)("div",{className:"post-title"},(0,e.createElement)("h3",null,(0,e.createElement)(s.RichText.Content,{value:l,placeholder:(0,a.__)("Enter title here","custom-gutenberg")}))),(0,e.createElement)("div",{className:"post-date"},i&&(0,e.createElement)("h5",null,(0,e.createElement)(s.RichText.Content,{value:r,placeholder:(0,a.__)("Enter date here","custom-gutenberg")}))),(0,e.createElement)("div",{className:"post-excerpt"},c&&(0,e.createElement)("p",null,(0,e.createElement)(s.RichText.Content,{value:o,placeholder:(0,a.__)("Enter excerpt here","custom-gutenberg")}))))))}}),(0,r.registerPlugin)("check-for-custom-block",{render:()=>{const[t,r]=(0,e.useState)(!1),{lockPostSaving:s,unlockPostSaving:i}=(0,o.useDispatch)("core/editor"),{blocks:u}=(0,o.useSelect)((e=>({blocks:e("core/block-editor").getBlocks()})));return(0,e.useEffect)((()=>{let e=!0;u?.forEach((t=>{t.name===c.u2&&(e=!1,r(!0))})),e?(r(!1),s()):i()}),[u]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l.PluginPostStatusInfo,null,t?(0,e.createElement)(n.Notice,{status:"success",isDismissible:!0},(0,a.__)("You are allowed to save your post.","custom-gutenberg")):(0,e.createElement)(n.Notice,{status:"error",isDismissible:!1},(0,a.__)("You are not allowed to save your post since you have not used the custom block.","custom-gutenberg"))))}})}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=function(t,r,n,a){if(!r){var l=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],a=e[u][2];for(var s=!0,c=0;c<r.length;c++)(!1&a||l>=a)&&Object.keys(o.O).every((function(e){return o.O[e](r[c])}))?r.splice(c--,1):(s=!1,a<l&&(l=a));if(s){e.splice(u--,1);var i=n();void 0!==i&&(t=i)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,n,a]},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={472:0,772:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,a,l=r[0],s=r[1],c=r[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(c)var u=c(o)}for(t&&t(r);i<l.length;i++)a=l[i],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},r=self.webpackChunkcustom_gutenberg=self.webpackChunkcustom_gutenberg||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var n=o.O(void 0,[772],(function(){return o(903)}));n=o.O(n)}();